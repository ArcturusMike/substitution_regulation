<!-- Stand: 07.06.2021 -->
<!-- © Michael Hobel -->

<!DOCTYPE html>
<html>
<head>
    <title>Vertretungsregelung SZ1</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: sans-serif;
            font-size: 14pt;
        }
        select {
            font-size: 14pt;
        }
        .checkboxes {
            width: 17px;
            height: 17px;
        }
        button {
            font-size: 15pt;
            background-color: #7DD777;
            padding: 7px;
            border-radius: 5px;
            border: 1px solid black;
        }
        button:hover {
            cursor: pointer;
        }
        #ausgabe {
            line-height: 150%;
        }
        #version {
            position: fixed;
            right: 5px;
            bottom: 5px;
            font-size: 8pt;
            text-align: right;
        }
    </style>
    <script>
        function berechnen() {
            var personen = ["name1", "name2", "name3", "name4", "name5", "name6"];
            var monate = Array.from(document.querySelectorAll('input[type="checkbox"]:checked'));
            var anzahl = monate.length;
            if (anzahl == 0) {
                alert("Problem: Kein Monat fehlt");
            }
            else if (anzahl > 3 ) {
                alert("Problem: Mehr als 3 Monate fehlen");
            }
            else if (anzahl == 1) {
                var fehlend_id = monate[0].getAttribute("id");
                var fehlend_name = monate[0].getAttribute("name");

                // fehlende Person aus Anwesenheitsliste entfernen
                for (i=0; i<personen.length;i++) {
                    if (personen[i] == fehlend_name) {
                        personen.splice(i,1);
                        
                    }
                }
                if (fehlend_id == "02") {
                    document.getElementById("ausgabe").innerHTML = "01. - 06." + fehlend_id + ". " + personen[0] + "<br>" + "07. - 11." + fehlend_id + ". " + personen[1] + "<br>" + "12. - 17." + fehlend_id + ". " + personen[2] + "<br>" + "18. - 22." + fehlend_id + ". " + personen[3] + "<br>" + "23. - 29." + fehlend_id + ". " + personen[4];
                }
                else if (fehlend_id == "04" || fehlend_id == "06") {
                    document.getElementById("ausgabe").innerHTML = "01. - 06." + fehlend_id + ". " + personen[0] + "<br>" + "07. - 12." + fehlend_id + ". " + personen[1] + "<br>" + "13. - 18." + fehlend_id + ". " + personen[2] + "<br>" + "19. - 24." + fehlend_id + ". " + personen[3] + "<br>" + "25. - 30." + fehlend_id + ". " + personen[4];
                }
                else if (fehlend_id == "01") {
                    document.getElementById("ausgabe").innerHTML = "01. - 07." + fehlend_id + ". " + personen[0] + "<br>" + "08. - 13." + fehlend_id + ". " + personen[1] + "<br>" + "14. - 19." + fehlend_id + ". " + personen[2] + "<br>" + "20. - 25." + fehlend_id + ". " + personen[3] + "<br>" + "26. - 31." + fehlend_id + ". " + personen[4];
                } 
                else {
                    document.getElementById("ausgabe").innerHTML = "01. - 06." + fehlend_id + ". " + personen[0] + "<br>" + "07. - 13." + fehlend_id + ". " + personen[1] + "<br>" + "14. - 19." + fehlend_id + ". " + personen[2] + "<br>" + "20. - 25." + fehlend_id + ". " + personen[3] + "<br>" + "26. - 31." + fehlend_id + ". " + personen[4];
                }
            }
            else if (anzahl == 2) {
                var fehlend_id_1 = monate[0].getAttribute("id");
                var fehlend_id_2 = monate[1].getAttribute("id");
                var fehlend_name_1 = monate[0].getAttribute("name");
                var fehlend_name_2 = monate[1].getAttribute("name");

                // fehlende Person aus Anwesenheitsliste entfernen
                for (i=0; i<personen.length;i++) {
                    if (personen[i] == fehlend_name_1) {
                        personen.splice(i,1);
                    }
                    if (personen[i] == fehlend_name_2) {
                        personen.splice(i,1);
                    }
                }
                if (fehlend_id_1 == "02") {
                    if (parseInt(fehlend_id_2) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 14." + fehlend_id_1 + ". " + personen[0] + "<br>" + "15. - 29." + fehlend_id_1 + ". " + personen[1] + "<br>" + "01. - 15." + fehlend_id_2 + ". " + personen[2] + "<br>" + "16. - 30." + fehlend_id_2 + ". " + personen[3];
                    }
                    else {
                        document.getElementById("ausgabe").innerHTML = "01. - 14." + fehlend_id_1 + ". " + personen[0] + "<br>" + "15. - 29." + fehlend_id_1 + ". " + personen[1] + "<br>" + "01. - 15." + fehlend_id_2 + ". " + personen[2] + "<br>" + "16. - 31." + fehlend_id_2 + ". " + personen[3];
                    }
                }
                else if (fehlend_id_2 == "02") {
                    document.getElementById("ausgabe").innerHTML = "01. - 15." + fehlend_id_1 + ". " + personen[0] + "<br>" + "16. - 31." + fehlend_id_1 + ". " + personen[1] + "<br>" + "01. - 14." + fehlend_id_2 + ". " + personen[2] + "<br>" + "15. - 29." + fehlend_id_2 + ". " + personen[3];
                }
                else if (fehlend_id_1 == "04") {
                    document.getElementById("ausgabe").innerHTML = "01. - 15." + fehlend_id_1 + ". " + personen[0] + "<br>" + "16. - 30." + fehlend_id_1 + ". " + personen[1] + "<br>" + "01. - 15." + fehlend_id_2 + ". " + personen[2] + "<br>" + "16. - 31." + fehlend_id_2 + ". " + personen[3];
                }
                else if (parseInt(fehlend_id_2) % 2 == 0 && fehlend_id_2 != "02") {
                    document.getElementById("ausgabe").innerHTML = "01. - 16." + fehlend_id_1 + ". " + personen[0] + "<br>" + "17. - 31." + fehlend_id_1 + ". " + personen[1] + "<br>" + "01. - 15." + fehlend_id_2 + ". " + personen[2] + "<br>" + "16. - 30." + fehlend_id_2 + ". " + personen[3];
                }
                else {
                    document.getElementById("ausgabe").innerHTML = "01. - 16." + fehlend_id_1 + ". " + personen[0] + "<br>" + "17. - 31." + fehlend_id_1 + ". " + personen[1] + "<br>" + "01. - 15." + fehlend_id_2 + ". " + personen[2] + "<br>" + "16. - 31." + fehlend_id_2 + ". " + personen[3];
                }
            }
            else if (anzahl == 3) {
                var fehlend_id_1 = monate[0].getAttribute("id");
                var fehlend_id_2 = monate[1].getAttribute("id");
                var fehlend_id_3 = monate[2].getAttribute("id");
                var fehlend_name_1 = monate[0].getAttribute("name");
                var fehlend_name_2 = monate[1].getAttribute("name");
                var fehlend_name_3 = monate[2].getAttribute("name");

                // fehlende Person aus Anwesenheitsliste entfernen
                for (i=0; i<personen.length;i++) {
                    if (personen[i] == fehlend_name_1) {
                        personen.splice(i,1);
                    }
                    if (personen[i] == fehlend_name_2) {
                        personen.splice(i,1);
                    }
                    if (personen[i] == fehlend_name_3) {
                        personen.splice(i,1);
                    }
                }
                if (fehlend_id_1 == "02") {
                    // 100
                    if (parseInt(fehlend_id_2) % 2 != 0 && parseInt(fehlend_id_3) % 2 != 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 29." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 31." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 31." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 110
                    if (parseInt(fehlend_id_2) % 2 == 0 && parseInt(fehlend_id_3) % 2 != 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 29." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 30." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 31." + fehlend_id_3 + ". " + personen[2];
                    }   
                    // 101
                    if (parseInt(fehlend_id_2) % 2 != 0 && parseInt(fehlend_id_3) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 29." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 31." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 30." + fehlend_id_3 + ". " + personen[2];
                    }   
                    // 111
                    if (parseInt(fehlend_id_2) % 2 == 0 && parseInt(fehlend_id_3) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 29." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 30." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 30." + fehlend_id_3 + ". " + personen[2];
                    }   
                }
                else if (fehlend_id_2 == "02") {
                    // 010
                    if (parseInt(fehlend_id_1) % 2 != 0 && parseInt(fehlend_id_3) % 2 != 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 31." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 29." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 31." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 011
                    if (parseInt(fehlend_id_1) % 2 != 0 && parseInt(fehlend_id_3) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 31." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 29." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 30." + fehlend_id_3 + ". " + personen[2];
                    }   
                }
                else {
                    // 100
                    if (parseInt(fehlend_id_1) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 30." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 31." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 31." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 010
                    if (parseInt(fehlend_id_2) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 31." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 30." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 31." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 001
                    if (parseInt(fehlend_id_3) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 31." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 31." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 30." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 111
                    if (parseInt(fehlend_id_1) % 2 == 0 && parseInt(fehlend_id_2) % 2 == 0 && parseInt(fehlend_id_3) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 30." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 30." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 30." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 000
                    if (parseInt(fehlend_id_1) % 2 != 0 && parseInt(fehlend_id_2) % 2 != 0 && parseInt(fehlend_id_3) % 2 != 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 31." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 31." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 31." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 110
                    if (parseInt(fehlend_id_1) % 2 == 0 && parseInt(fehlend_id_2) % 2 == 0 && parseInt(fehlend_id_3) % 2 != 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 30." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 30." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 31." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 011
                    if (parseInt(fehlend_id_1) % 2 != 0 && parseInt(fehlend_id_2) % 2 == 0 && parseInt(fehlend_id_3) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 31." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 30." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 30." + fehlend_id_3 + ". " + personen[2];
                    }
                    // 101
                    if (parseInt(fehlend_id_1) % 2 == 0 && parseInt(fehlend_id_2) % 2 != 0 && parseInt(fehlend_id_3) % 2 == 0) {
                        document.getElementById("ausgabe").innerHTML = "01. - 30." + fehlend_id_1 + ". " + personen[0] + "<br>" + "01. - 31." + fehlend_id_2 + ". " + personen[1] + "<br>" + "01. - 30." + fehlend_id_3 + ". " + personen[2];
                    }
                }
            }

            var name1 = document.getElementById("select1").value;
            var name2 = document.getElementById("select2").value;
            var name3 = document.getElementById("select3").value;
            var name4 = document.getElementById("select4").value;
            var name5 = document.getElementById("select5").value;
            var name6 = document.getElementById("select6").value;
            document.getElementById("ausgabe").innerHTML = document.getElementById("ausgabe").innerHTML.replace("name1", name1);
            document.getElementById("ausgabe").innerHTML = document.getElementById("ausgabe").innerHTML.replace("name2", name2);
            document.getElementById("ausgabe").innerHTML = document.getElementById("ausgabe").innerHTML.replace("name3", name3);
            document.getElementById("ausgabe").innerHTML = document.getElementById("ausgabe").innerHTML.replace("name4", name4);
            document.getElementById("ausgabe").innerHTML = document.getElementById("ausgabe").innerHTML.replace("name5", name5);
            document.getElementById("ausgabe").innerHTML = document.getElementById("ausgabe").innerHTML.replace("name6", name6);

        }

        function namenssetzung() {
            var name1_neu = document.getElementById("select1").value;
            var name2_neu = document.getElementById("select2").value;
            var name3_neu = document.getElementById("select3").value;
            var name4_neu = document.getElementById("select4").value;
            var name5_neu = document.getElementById("select5").value;
            var name6_neu = document.getElementById("select6").value;
            
        }

        function namenswechsel(selectnummer) {
            var name_neu = document.getElementById("select" + selectnummer).value;
            console.log(name_neu);
        }
    </script>
</head>
<body onload="namenssetzung()">
<h1>Vertretungsregelung SZ1</h1>
<h3>Fehlende Monate: </h3>
<p>
    <label for="01">
        Januar <select onchange="namenswechsel(1)" id="select1">
            <option value="Mitterer" selected>Mitterer</option>
            <option value="Klaus">Klaus</option>
            <option value="Huber">Huber</option>
        </select>
    </label> 
    <input type="checkbox" class="checkboxes" id="01" name="name1">
</p>
<p>
    <label for="02">
        Februar <select onchange="namenswechsel(2)" id="select2">
            <option value="Himmelsbach" selected>Himmelsbach</option>
            <option value="Dorfer">Dorfer</option>
            <option value="Kassmannhuber">Kassmanhuber</option>
        </select>
    </label> 
    <input type="checkbox" class="checkboxes" id="02" name="name2">
</p>
<p>
    <label for="03">
        März <select onchange="namenswechsel(3)" id="select3">
            <option value="Zwatz" selected>Zwatz</option>
            <option value="Dreier">Dreier</option>
            <option value="King">King</option>
        </select>
    </label> 
    <input type="checkbox" class="checkboxes" id="03" name="name3">
</p>
<p>
    <label for="04">
        April <select onchange="namenswechsel(4)" id="select4">
            <option value="Hobel" selected>Hobel</option>
            <option value="Stornig">Stornig</option>
            <option value="Pinter">Pinter</option>
        </select>
    </label> 
    <input type="checkbox" class="checkboxes" id="04" name="name4">
</p>
<p>
    <label for="05">
        Mai <select onchange="namenswechsel(5)" id="select5">
            <option value="Valent" selected>Valent</option>
            <option value="Müller">Müller</option>
            <option value="Korak">Korak</option>
        </select>
    </label> 
    <input type="checkbox" class="checkboxes" id="05" name="name5">
</p>
<p>
    <label for="06">
        Juni <select onchange="namenswechsel(6)" id="select6">
            <option value="Steindorfer" selected>Steindorfer</option>
            <option value="Mirnig">Mirnig</option>
            <option value="Figo">Figo</option>
        </select>
    </label> 
    <input type="checkbox" class="checkboxes" id="06" name="name6">
</p>

<p><button onclick="berechnen()">Vertretungen anzeigen</button></p>
<br>
<div id="ausgabe"></div>
<div id="version">
    <span>Version 1.1</span>
    <br>
    <span>© Michael Hobel</span>
</div>
</body>
</html>